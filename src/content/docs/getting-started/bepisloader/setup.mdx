---
title: Setting Up BepisLoader
description: Installation and configuration guide for BepisLoader
---

import {
	Card,
	CardGrid,
	Steps,
	Tabs,
	TabItem,
	Code,
	Badge,
	LinkButton
} from '@astrojs/starlight/components';

This guide walks you through installing and configuring BepisLoader for Resonite mod development.

## Prerequisites

- Resonite installed via Steam
- .NET 9 SDK installed
- Basic understanding of file management

## Installation

<Steps>
	1. **Download BepisLoader** from the official repository 2. **Extract files** to your Resonite
	installation folder (usually `C:\Program Files (x86)\Steam\steamapps\common\Resonite`) 3. **Verify
	installation** by checking for the presence of `hostfxr.dll` and `BepisLoader.dll` 4. **Launch
	Resonite** to initialize BepInEx folder structure
</Steps>

## Configuration

### BepInEx Configuration

Edit `BepInEx/config/BepInEx.cfg` to customize behavior:

```ini
[Logging.Console]
Enabled = true
LogLevels = All

[Logging.Disk]
WriteUnityLog = false
AppendLog = false
Enabled = true
LogLevels = All
```

### Development Settings

For mod development, enable these settings:

```ini
[Logging.Console]
LogLevels = All, Debug

[Preloader]
HideManagerGameObject = false
```

## Plugin Development Setup

<Steps>
1. **Create a new Class Library project** targeting .NET 9

2. **Add BepInEx references** to your project:

   ```xml
   <PackageReference Include="BepInEx.Core" Version="6.0.0-be.*" />
   ```

3. **Reference Resonite assemblies** from your game folder

4. **Set up your development environment** with proper debugging tools
   </Steps>

## Plugin Templates

<Tabs>
  <TabItem label="Basic">
    ```csharp
    using BepInEx;
    using HarmonyLib;

    namespace MyResoniteMod
    {
        [BepInPlugin("com.yourname.modname", "Mod Name", "1.0.0")]
        public class MyPlugin : BaseUnityPlugin
        {
            private void Awake()
            {
                Logger.LogInfo("Plugin loaded!");

                var harmony = new Harmony("com.yourname.modname");
                harmony.PatchAll();
            }
        }
    }
    ```

  </TabItem>
  <TabItem label="With Config">
    ```csharp
    using BepInEx;
    using BepInEx.Configuration;
    using HarmonyLib;

    namespace MyResoniteMod
    {
        [BepInPlugin(GUID, NAME, VERSION)]
        public class MyPlugin : BaseUnityPlugin
        {
            public const string GUID = "com.yourname.modname";
            public const string NAME = "Mod Name";
            public const string VERSION = "1.0.0";

            private ConfigEntry<bool> enableFeature;

            private void Awake()
            {
                Logger.LogInfo($"{NAME} v{VERSION} loading...");

                // Setup configuration
                enableFeature = Config.Bind("General", "EnableFeature", true, "Enable the main feature");

                var harmony = new Harmony(GUID);
                harmony.PatchAll();

                Logger.LogInfo($"{NAME} loaded successfully!");
            }
        }
    }
    ```

  </TabItem>
  <TabItem label="Advanced">
    ```csharp
    using BepInEx;
    using BepInEx.Configuration;
    using BepInEx.Logging;
    using HarmonyLib;
    using System;

    namespace MyResoniteMod
    {
        [BepInPlugin(GUID, NAME, VERSION)]
        public class MyPlugin : BaseUnityPlugin
        {
            public const string GUID = "com.yourname.modname";
            public const string NAME = "Mod Name";
            public const string VERSION = "1.0.0";

            internal static ManualLogSource ModLogger;
            private static Harmony harmony;

            // Configuration
            private ConfigEntry<bool> enableFeature;
            private ConfigEntry<float> someValue;

            private void Awake()
            {
                ModLogger = Logger;
                ModLogger.LogInfo($"{NAME} v{VERSION} initializing...");

                try
                {
                    // Setup configuration
                    SetupConfig();

                    // Apply Harmony patches
                    harmony = new Harmony(GUID);
                    harmony.PatchAll();

                    ModLogger.LogInfo($"{NAME} loaded successfully!");
                }
                catch (Exception ex)
                {
                    ModLogger.LogError($"Failed to initialize {NAME}: {ex}");
                    throw;
                }
            }

            private void SetupConfig()
            {
                enableFeature = Config.Bind("General", "EnableFeature", true,
                    "Enable the main feature of this mod");
                someValue = Config.Bind("Settings", "SomeValue", 1.0f,
                    "Some configurable value");

                // Listen for config changes
                enableFeature.SettingChanged += OnConfigChanged;
            }

            private void OnConfigChanged(object sender, EventArgs e)
            {
                ModLogger.LogInfo($"Configuration changed: {enableFeature.Value}");
            }

            private void OnDestroy()
            {
                harmony?.UnpatchSelf();
                ModLogger.LogInfo($"{NAME} unloaded");
            }
        }
    }
    ```

  </TabItem>
</Tabs>

## Troubleshooting

### Common Issues

#### BepInEx not initializing

- Check that `hostfxr.dll` is present and not blocked by antivirus
- Verify .NET 9 runtime is installed
- Run Resonite as administrator

#### Plugins not loading

- Ensure plugins are in `BepInEx/plugins/` folder
- Check plugin targets .NET 9
- Review `LogOutput.log` for errors

#### Performance issues

- Disable console logging in production
- Use conditional compilation for debug code
- Profile with dotnet-trace

### Log Locations

- BepInEx logs: `BepInEx/LogOutput.log`
- Resonite logs: `%USERPROFILE%\AppData\LocalLow\Yellow Dog Man Studios\Resonite\`

## Advanced Configuration

### Preloader Patches

Place preloader patches in `BepInEx/patchers/` for early assembly modifications.

### Custom Harmony Patches

Use Harmony for runtime method patching:

```csharp
[HarmonyPatch(typeof(FrooxEngine.World), "Start")]
class WorldStartPatch
{
    static void Postfix(FrooxEngine.World __instance)
    {
        // Your code here
    }
}
```

## Next Steps

With BepisLoader set up:

- [Create your first mod](/getting-started/first-mod/) to start building
- [Learn about BepInEx](/guides/bepinex/) for advanced features
- [Explore the FrooxEngine API](/reference/frooxengine/) for available methods
- [Browse common recipes](/recipes/common-patterns/) for code examples
